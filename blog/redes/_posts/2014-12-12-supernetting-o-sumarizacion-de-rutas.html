---
layout: post
title: Supernetting o sumarización de rutas
date: '2014-12-12T01:00:00.007+01:00'
author: Pere Vilas
tags:
- xarxes
- redes
modified_time: '2014-12-12T14:56:32.928+01:00'
blogger_id: tag:blogger.com,1999:blog-9191328551308072706.post-6019655009469093433
blogger_orig_url: http://www.pvilas.com/2014/12/supernetting-o-sumarizacion-de-rutas.html
---

<p>La sumarización de rutas o supernetting permite a los routers enrutar más eficientemente, es decir, manejar más tráfico con menos recursos.</p> <p>Los routers ya no usan las clases para direccionar sino que envían la máscara de red junto con la dirección y esto permite que el router las agrupe por subredes. Este método es llamado CIDR (Enrutamiento entre dominios sin Clases) y permite al router agrupar las subredes comunes, jerarquizándolas y simplificando el tráfico. Este ejemplo extraido de eltallerdelbit ilustra la sumarización:</p> <p><img src="http://cdn1.eltallerdelbit.com/wp-content/uploads/2012/01/Sumarizacion.jpg" alt="" title=""></p> <p>Para que sea eficiente, el sistema requiere que las direcciones de las subredes vengan contíguas para que el router pueda agruparlas en superredes (<strong>supernetting</strong>). Los protocolos que soportan CIDR y VLSM (variable length subnet mask) o Máscaras de Subred de Longitud Variable son, entre otros, el RIP2 y el OSPF (Open Shortest Path First).</p> <p><a href="http://eltallerdelbit.com/subnetting-vlsm/">El taller del bit</a> tiene un ejemplo que transcribo aquí:</p> <p>Nos han dado la dirección 10.5.126.0 /23 y deseamos crear las siguientes subredes:</p> <p>RED A : 130 equipos (+1 de red + 1 de broadcast ) <br>RED B: 70 equipos  (+1 de red + 1 de broadcast ) <br>RED C: 40 equipos (+1 de red + 1 de broadcast ) <br>RED D: 10 equipos (+1 de red + 1 de broadcast )</p> <p>Antes de nada, debemos ordenar las redes de mayor a menor necesidad de direcciones. </p> <p>Después, para empezar los cálculos, pasamos a binario los dos últimos bytes: <br><span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2236-Frame"><nobr><span class="math" id="MathJax-Span-14442" style="width: 12.899em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.51em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.345em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-14443"><span class="mn" id="MathJax-Span-14444" style="font-family: STIXGeneral-Regular;">126.0</span><span class="mo" id="MathJax-Span-14445" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">→</span><span class="mn" id="MathJax-Span-14446" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">01111110.0000000</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-2236">126.0 \to 01111110.0000000</script></p> <h4 id="red-a">Red A</h4> <p>Necesitamos 132 direcciones: 130 hosts+red+broadcast; El primer múltiplo de dos es 256, o sea, 8 bits. Por lo tanto nos queda un máscara de <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1459-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-9933" style="width: 5.459em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.864em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-9934"><span class="mn" id="MathJax-Span-9935" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-9936" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-9937" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">8</span><span class="mo" id="MathJax-Span-9938" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-9939" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">24</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1459">32-8=24</script>. La primera dirección será la 10.5.126.0 y la última 256 más, o sea, 10.5.126.255.</p> <blockquote>  <p><strong>Red A:</strong> <br>  Dirección de red: 10.5.126.0/24 <br>  Dirección de broadcast: 10.5.126.255</p></blockquote> <h4 id="red-b">Red B</h4> <p>Necesitamos 72 direcciones. La primera libre es la siguiente a la de broadcast de la red A, es decir, la <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1818-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-11699" style="width: 4.814em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.268em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.345em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-11700"><span class="mn" id="MathJax-Span-11701" style="font-family: STIXGeneral-Regular;">10.5.127.0</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1818">10.5.127.0</script>. Por otra parte, para 72 direcciones precisamos 7 bits ya que <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1819-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-11702" style="width: 4.169em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.723em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.441em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-11703"><span class="msubsup" id="MathJax-Span-11704"><span style="display: inline-block; position: relative; width: 0.995em; height: 0px;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mn" id="MathJax-Span-11705" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span style="position: absolute; top: -2.676em; left: 0.548em;"><span class="mn" id="MathJax-Span-11706" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">7</span><span style="display: inline-block; width: 0px; height: 2.284em;"></span></span></span></span><span class="mo" id="MathJax-Span-11707" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-11708" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">128</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.114em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1819">2^7=128</script>, así que la máscara será <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1820-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-11709" style="width: 5.459em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.864em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-11710"><span class="mn" id="MathJax-Span-11711" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-11712" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-11713" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">7</span><span class="mo" id="MathJax-Span-11714" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-11715" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">25</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1820">32-7=25</script>. Por tanto, la última dirección de esta red será <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-1821-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-11716" style="width: 5.905em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.26em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.345em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-11717"><span class="mn" id="MathJax-Span-11718" style="font-family: STIXGeneral-Regular;">10.5.127.127</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1821">10.5.127.127</script>.</p> <blockquote>  <p><strong>Red B</strong> <br>  Dirección de red: 10.5.127.0/25 <br>  Dirección de broadcast:  10.5.127.127</p></blockquote> <h4 id="red-c">Red C</h4> <p>Precisamos 42 direcciones. La siguiente libre, después de la B, es la 10.5.127.128; Esta será pues la dirección de la red C. El primer múltiplo de 2 que es igual o pasa de 42 es <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2040-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-13076" style="width: 3.624em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.227em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.441em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-13077"><span class="mn" id="MathJax-Span-13078" style="font-family: STIXGeneral-Regular;">64</span><span class="mo" id="MathJax-Span-13079" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="msubsup" id="MathJax-Span-13080" style="padding-left: 0.3em;"><span style="display: inline-block; position: relative; width: 0.995em; height: 0px;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mn" id="MathJax-Span-13081" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span style="position: absolute; top: -2.676em; left: 0.548em;"><span class="mn" id="MathJax-Span-13082" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">6</span><span style="display: inline-block; width: 0px; height: 2.284em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.114em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2040">64=2^6</script>, o sea, que necesitamos <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2041-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-13083" style="width: 0.647em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.548em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-13084"><span class="mn" id="MathJax-Span-13085" style="font-family: STIXGeneral-Regular;">6</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2041">6</script> bits para hosts y la máscara de la red será de <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2042-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-13086" style="width: 5.459em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.864em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-13087"><span class="mn" id="MathJax-Span-13088" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-13089" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-13090" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">6</span><span class="mo" id="MathJax-Span-13091" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-13092" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">26</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2042">32-6=26</script> bits. La última dirección de la red, de broadcast, será <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2043-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-13093" style="width: 9.03em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.038em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.681em -0.345em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-13094"><span class="mn" id="MathJax-Span-13095" style="font-family: STIXGeneral-Regular;">128</span><span class="mo" id="MathJax-Span-13096" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-13097" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">64</span><span class="mo" id="MathJax-Span-13098" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-13099" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-13100" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-13101" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">191</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.947em; vertical-align: -0.108em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2043">128+64-1=191</script>.</p> <blockquote>  <p><strong>Red C</strong> <br>  Dirección de red: 10.5.127.128/26 <br>  Dirección de broadcast: 10.5.127.191</p></blockquote> <h4 id="red-d">Red D</h4> <p>Para 12 direcciones necesitaremos 4 bits ya que <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2216-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-14334" style="width: 3.624em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.227em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.441em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-14335"><span class="msubsup" id="MathJax-Span-14336"><span style="display: inline-block; position: relative; width: 0.995em; height: 0px;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mn" id="MathJax-Span-14337" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span><span style="position: absolute; top: -2.676em; left: 0.548em;"><span class="mn" id="MathJax-Span-14338" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 2.284em;"></span></span></span></span><span class="mo" id="MathJax-Span-14339" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-14340" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">16</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.114em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2216">2^4=16</script>. La primera dirección, o dirección de red, será la 10.5.127.192 con una máscara de  <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2217-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-14341" style="width: 5.459em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.864em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.631em -0.394em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-14342"><span class="mn" id="MathJax-Span-14343" style="font-family: STIXGeneral-Regular;">32</span><span class="mo" id="MathJax-Span-14344" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-14345" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">4</span><span class="mo" id="MathJax-Span-14346" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-14347" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">28</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.892em; vertical-align: -0.053em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2217">32-4=28</script> bits. La última dirección será la 10.5.127.207 ya que <span class="MathJax_Preview"></span><span class="MathJax" id="MathJax-Element-2218-Frame" role="textbox" aria-readonly="true"><nobr><span class="math" id="MathJax-Span-14348" style="width: 9.03em; display: inline-block;"><span style="display: inline-block; position: relative; width: 8.038em; height: 0px; font-size: 112%;"><span style="position: absolute; clip: rect(1.639em 1000.002em 2.681em -0.345em); top: -2.478em; left: 0.002em;"><span class="mrow" id="MathJax-Span-14349"><span class="mn" id="MathJax-Span-14350" style="font-family: STIXGeneral-Regular;">192</span><span class="mo" id="MathJax-Span-14351" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">+</span><span class="mn" id="MathJax-Span-14352" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">16</span><span class="mo" id="MathJax-Span-14353" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">−</span><span class="mn" id="MathJax-Span-14354" style="font-family: STIXGeneral-Regular; padding-left: 0.25em;">1</span><span class="mo" id="MathJax-Span-14355" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">=</span><span class="mn" id="MathJax-Span-14356" style="font-family: STIXGeneral-Regular; padding-left: 0.3em;">207</span></span><span style="display: inline-block; width: 0px; height: 2.483em;"></span></span></span><span style="border-left-width: 0.003em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.947em; vertical-align: -0.108em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2218">192+16-1=207</script>.</p> <blockquote>  <p><strong>Red D</strong> <br>  Dirección de red: 10.5.127.192 <br>  Dirección de broadcast: 10.5.127.207</p></blockquote>