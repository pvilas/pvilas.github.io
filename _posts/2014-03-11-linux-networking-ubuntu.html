---
layout: post
title: Linux networking (ubuntu)
date: '2014-03-11T10:02:00.000+01:00'
author: Pere Vilas
tags:
- Linux
- ubuntu
modified_time: '2014-03-11T10:02:06.997+01:00'
blogger_id: tag:blogger.com,1999:blog-9191328551308072706.post-7229861815074102785
blogger_orig_url: http://www.pvilas.com/2014/03/linux-networking-ubuntu.html
---

Ver tarjetas de red instaladas en el equipo:<br /><br /><span style="font-family: Courier New, Courier, monospace;">/proc/net/dev</span><br /><br />Ver los interfaces up<br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">sudo ifconfig -s</span><br /><br />Configuración de los interfaces<br /><br />/etc/network/interfaces<br /><br /><span style="font-family: Courier New, Courier, monospace;">auto lo</span><br /><span style="font-family: Courier New, Courier, monospace;">iface lo inet loopback</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">auto eth1</span><br /><span style="font-family: Courier New, Courier, monospace;">iface eth1 inet static</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; address 192.168.1.2</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; netmask 255.255.255.0</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; network 192.168.1.0</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; broadcast 192.168.1.255</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; gateway 192.168.1.1</span><br /><span style="font-family: Courier New, Courier, monospace;">&nbsp; dns-nameservers 8.8.8.8</span><br /><br />Habilitar/deshabititar interface<br /><br /><span style="font-family: Courier New, Courier, monospace;">sudo ifup eth1</span><br /><span style="font-family: Courier New, Courier, monospace;">sudo ifdown eth1</span><br /><br /><span style="font-family: Times, Times New Roman, serif;">Hacer cambios <b>temporales</b></span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">sudo ifconfig eth1 10.0.0.100 netmask 255.255.255.0</span><br /><span style="font-family: Courier New, Courier, monospace;">sudo route add default gw 10.0.0.1 eth1</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">para añadir servidor dns, poner ip en /etc/resolv.conf</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Times, Times New Roman, serif;">para purgar esta config temporal&nbsp;</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Courier New, Courier, monospace;">ip&nbsp;</span><span style="font-family: 'Courier New', Courier, monospace;">addr flush eth1</span><br /><span style="font-family: Courier New, Courier, monospace;"><br /></span><span style="font-family: Times, Times New Roman, serif;">Cambiar la configuración de hardware de la tarjeta</span><br /><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Courier New, Courier, monospace;">sudo apt-get install ethtool</span><br /><span style="font-family: Courier New, Courier, monospace;">sudo ethtool eth1</span><br /><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Times, Times New Roman, serif;">Si queremos fijar algún parámetro, editamos /etc/networking/interfaces y añadimos un pre-up:</span><br /><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Courier New, Courier, monospace;">auto eth1</span><br /><span style="font-family: Courier New, Courier, monospace;">iface eth1 inet static</span><br /><span style="font-family: Courier New, Courier, monospace;">pre-up /usr/bin/ethtool -s eth1 speed 1000 duplex full</span><br /><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Times, Times New Roman, serif;"><br /></span><span style="font-family: Times, Times New Roman, serif;"><br /></span>