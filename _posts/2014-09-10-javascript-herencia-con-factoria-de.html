---
layout: post
title: Javascript herencia con factoría de objetos
date: '2014-09-10T02:00:00.003+02:00'
author: Pere Vilas
tags:
- javascript
modified_time: '2014-09-10T14:49:20.968+02:00'
blogger_id: tag:blogger.com,1999:blog-9191328551308072706.post-1677845763150173112
blogger_orig_url: http://www.pvilas.com/2014/09/javascript-herencia-con-factoria-de.html
---

<p>Javascript no tiene un soporte claro para la herencia. Tal vez sea debido a que no existe el concepto de <strong>clase</strong>. En los lenguajes tradicionales, solemos definir la clase como una plantilla de cómo debe ser el objeto y después instanciamos a partir de esa definición.</p> <p>Además, en Javascript todo es un objeto dinámico. En cualquier momento podemos añadir, quitar o cambiar cualquier propiedad de un objeto sin preocuparnos de la pertenencia a una clase o la necesidad de convertir entre clases.</p> <p>Si lo que deseamos es la funcionalidad que nos otorga la herencia y preferimos el estilo de construcción de <em>factoría de objetos</em>, es decir, un objeto <strong>Function</strong> que nos retorna otro objeto con sus propiedades es muy fácil implementar la herencia y la sobreeescritura. </p> <p>Pongo un ejemplo que se explica por si mismo:</p> <pre class="prettyprint"><code class=" hljs javascript"><span class="hljs-pi">"use strict"</span>;<br /><br /><span class="hljs-comment">// el objeto base</span><br /><span class="hljs-keyword">var</span> Familia=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(fam)</span> {</span><br />        <span class="hljs-keyword">var</span> obj={};<br />        obj.familia=fam;<br /><br />        <span class="hljs-comment">// Function en el objeto base</span><br />        obj.tienePatas=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span><br />                <span class="hljs-keyword">return</span> (obj.familia===<span class="hljs-string">"Hominidae"</span>)? <span class="hljs-literal">true</span>: <span class="hljs-literal">false</span>;<br />        };<br /><br />        <span class="hljs-comment">// sobreescritura de Object.toString()</span><br />        obj.toString=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span><br />                console.log(<span class="hljs-string">"FAMILIA ============"</span>);<br />                console.log(<span class="hljs-string">"Familia:"</span>, obj.familia);<br />        };<br /><br />        <span class="hljs-keyword">return</span> obj;<br />};<br /><br /><span class="hljs-comment">// objeto que hereda </span><br /><span class="hljs-keyword">var</span> Genero=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(fam, gen)</span> {</span><br /><br />        <span class="hljs-comment">// obj es una Familia</span><br />        <span class="hljs-comment">// "heredamos" en Genero sus propiedades...</span><br />        <span class="hljs-keyword">var</span> obj=Familia(fam);<br /><br />        <span class="hljs-comment">// ... y añadimos una propiedad nueva</span><br />        obj.genero=gen;<br /><br />        <span class="hljs-comment">// sobreescribimos (otra vez) toString</span><br />        obj.toString=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span><br />                console.log(<span class="hljs-string">"FAMILIA Y GENERO ============"</span>);<br />                console.log(<span class="hljs-string">"Familia:"</span>, obj.familia, <span class="hljs-string">"Genero:"</span>, obj.genero);<br />        };<br /><br />        <span class="hljs-keyword">return</span> obj;<br />};<br /><br /><span class="hljs-comment">// creamos nuevo objeto Familia</span><br /><span class="hljs-keyword">var</span> monos=Familia(<span class="hljs-string">"Hominidae"</span>);<br />monos.toString(); <span class="hljs-comment">// Hominidae</span><br />console.log(monos.tienePatas()); <span class="hljs-comment">// true</span><br /><br /><span class="hljs-comment">// creamos nuevo objeto Genero</span><br /><span class="hljs-keyword">var</span> hombre=Genero(<span class="hljs-string">"Hominidae"</span>, <span class="hljs-string">"Homo"</span>);<br />hombre.toString(); <span class="hljs-comment">// Hominidae Homo</span><br />console.log(hombre.tienePatas()); <span class="hljs-comment">// true</span></code></pre> <p>Este método es muy fácil y cómodo pero si tenemos que crear grandes cantidades de objetos es preferible usar prototype ya que ahorra gran cantidad de espacio en memoria.</p> <blockquote>  <p>Written with <a href="https://stackedit.io/">StackEdit</a>.</p></blockquote>