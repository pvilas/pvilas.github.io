---
layout: post
title: Apache redirect some ip to https
date: '2012-03-23T13:12:00.001+01:00'
author: Pere Vilas
tags:
- http
- mod_rewrite
- apache
- https
modified_time: '2012-03-23T16:20:38.467+01:00'
blogger_id: tag:blogger.com,1999:blog-9191328551308072706.post-7328892826951131377
blogger_orig_url: http://www.pvilas.com/2012/03/apache-redirect-some-ip-to-https.html
---

We want to allow some ip to http an redirect the rest to https. How can we do it?<br /><br />We can use mod_rewrite with these rules:<br /><br /><code>&nbsp; &nbsp; &nbsp; &nbsp;RewriteEngine On<br />&nbsp; &nbsp; &nbsp; &nbsp;RewriteCond %{REMOTE_ADDR} !^192\.168\.1\.4$<br />&nbsp; &nbsp; &nbsp; &nbsp;RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI}<br /></code><br /><br />In this case only 192.168.1.4 gets access to http, other ips will be redirected to https. <br /><br />